/**
 * app/globals.css
 * ─────────────────────────────────────────────────────────────────────────────
 * Global styles for the MyHealthMate landing page.
 * Uses Tailwind CSS directives + custom utilities and animations.
 *
 * Structure:
 *   1. Tailwind base, components, utilities imports
 *   2. Custom CSS animations (floating cards, pulse, etc.)
 *   3. Custom scrollbar styling
 *   4. Radial gradient utility (not in Tailwind core)
 *   5. Dark mode media query support
 * ─────────────────────────────────────────────────────────────────────────────
 */

/* ── Tailwind CSS layers ── */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Base layer: font variables & resets ── */
@layer base {
  /* Smooth scrolling for the entire page */
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Remove default list styling in nav/footer */
  ul { list-style: none; padding: 0; margin: 0; }

  /* ── Custom scrollbar styling ── */
  ::-webkit-scrollbar { width: 5px; }
  ::-webkit-scrollbar-track { background: #F4F6F9; }
  ::-webkit-scrollbar-thumb { background: #BFDBFE; border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: #93C5FD; }
}

/* ── Custom utilities ── */
@layer utilities {
  /* Radial gradient utility — not in Tailwind core */
  .bg-gradient-radial {
    background-image: radial-gradient(var(--tw-gradient-stops));
  }

  /* Prevent content from jumping when scrollbar appears */
  .scrollbar-stable {
    scrollbar-gutter: stable;
  }
}

/* ── Floating card animations ──
   Used in Hero section for the dashboard card and floating widgets.
   Separate keyframes create different float rhythms for visual depth. */

@keyframes floatCard {
  0%, 100% { transform: translateY(0px) rotate(-0.5deg); }
  50%       { transform: translateY(-12px) rotate(0.5deg); }
}

@keyframes floatEl1 {
  0%, 100% { transform: translateY(0) translateX(0); }
  50%       { transform: translateY(-8px) translateX(4px); }
}

@keyframes floatEl2 {
  0%, 100% { transform: translateY(0); }
  50%       { transform: translateY(-10px); }
}

/* Slow pulse for background gradient blobs */
@keyframes pulseSlow {
  0%, 100% { opacity: 0.7; }
  50%       { opacity: 1; }
}

/* Apply animations via Tailwind utility classes */
@layer utilities {
  .animate-float-card { animation: floatCard 6s ease-in-out infinite; }
  .animate-float-1    { animation: floatEl1 5s ease-in-out infinite; }
  .animate-float-2    { animation: floatEl2 7s ease-in-out infinite; }
  .animate-pulse-slow { animation: pulseSlow 8s ease-in-out infinite alternate; }
}

/* ── Font family utilities ──
   Map the CSS variables set in layout.jsx to Tailwind font utilities */
@layer utilities {
  .font-sans   { font-family: var(--font-dm-sans), 'DM Sans', sans-serif; }
  .font-serif  { font-family: var(--font-dm-serif), 'DM Serif Display', serif; }
}

/* ── Transition duration 400 ──
   Tailwind only includes 300ms and 500ms by default.
   400ms is our preferred easing for card hover animations. */
@layer utilities {
  .duration-400 { transition-duration: 400ms; }
}

/* ── Dark mode support ──
   Apply when system prefers dark color scheme */
@media (prefers-color-scheme: dark) {
  /* Override key background colors for dark mode */
  .dark-auto {
    background-color: #0F172A;
    color: #E2E8F0;
  }
}
